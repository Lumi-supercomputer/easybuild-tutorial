


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.3.0">
    
    
      
        <title>Adding support for additional software - EasyBuild tutorial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6e35a1a6.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-168742780-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adding-support-for-additional-software" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="EasyBuild tutorial" class="md-header-nav__button md-logo" aria-label="EasyBuild tutorial">
      
  <img src="../img/easybuild_logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            EasyBuild tutorial
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Adding support for additional software
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/easybuilders/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    EasyBuild @ GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="EasyBuild tutorial" class="md-nav__button md-logo" aria-label="EasyBuild tutorial">
      
  <img src="../img/easybuild_logo.png" alt="logo">

    </a>
    EasyBuild tutorial
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/easybuilders/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    EasyBuild @ GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../practical_information/" title="Practical information" class="md-nav__link">
      Practical information
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../introduction/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basic_usage/" title="Basic usage" class="md-nav__link">
      Basic usage
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../hmns/" title="Hierarchical module naming schemes" class="md-nav__link">
      Hierarchical module naming schemes
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Adding support for additional software
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Adding support for additional software" class="md-nav__link md-nav__link--active">
      Adding support for additional software
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#easyconfigs-vs-easyblocks" class="md-nav__link">
    Easyconfigs vs easyblocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-easyconfig-files" class="md-nav__link">
    Writing easyconfig files
  </a>
  
    <nav class="md-nav" aria-label="Writing easyconfig files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mandatory-parameters" class="md-nav__link">
    Mandatory parameters
  </a>
  
    <nav class="md-nav" aria-label="Mandatory parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#software-name-version" class="md-nav__link">
    Software name &amp; version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#homepage-and-description" class="md-nav__link">
    Homepage and description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toolchain" class="md-nav__link">
    Toolchain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commonly-used-parameters" class="md-nav__link">
    Commonly used parameters
  </a>
  
    <nav class="md-nav" aria-label="Commonly used parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#easyblock" class="md-nav__link">
    Easyblock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sources" class="md-nav__link">
    Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-suffix" class="md-nav__link">
    Version suffix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-options" class="md-nav__link">
    Command options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sanity-check" class="md-nav__link">
    Sanity check
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-class" class="md-nav__link">
    Module class
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-parameters" class="md-nav__link">
    Custom parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-tweaked-easyconfigs" class="md-nav__link">
    Generating tweaked easyconfigs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copying-easyconfigs" class="md-nav__link">
    Copying easyconfigs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-easyblocks" class="md-nav__link">
    Implementing easyblocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
    <nav class="md-nav" aria-label="Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    Preparation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-easyconfig-parameters" class="md-nav__link">
    Mandatory easyconfig parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easyblock_1" class="md-nav__link">
    Easyblock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmake-build-dependency" class="md-nav__link">
    CMake build dependency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sources_1" class="md-nav__link">
    Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-configure-option" class="md-nav__link">
    Required configure option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sanity-check_1" class="md-nav__link">
    Sanity check
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-easyconfig" class="md-nav__link">
    Complete easyconfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises" class="md-nav__link">
    Exercises
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../jsc/" title="EasyBuild at Jülich Supercomputing Centre" class="md-nav__link">
      EasyBuild at Jülich Supercomputing Centre
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../computecanada/" title="EasyBuild at Compute Canada" class="md-nav__link">
      EasyBuild at Compute Canada
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../community/" title="The EasyBuild Community" class="md-nav__link">
      The EasyBuild Community
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing to EasyBuild" class="md-nav__link">
      Contributing to EasyBuild
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../comparison_other_tools/" title="Comparison with other tools" class="md-nav__link">
      Comparison with other tools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../getting_help/" title="Getting help" class="md-nav__link">
      Getting help
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#easyconfigs-vs-easyblocks" class="md-nav__link">
    Easyconfigs vs easyblocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-easyconfig-files" class="md-nav__link">
    Writing easyconfig files
  </a>
  
    <nav class="md-nav" aria-label="Writing easyconfig files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mandatory-parameters" class="md-nav__link">
    Mandatory parameters
  </a>
  
    <nav class="md-nav" aria-label="Mandatory parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#software-name-version" class="md-nav__link">
    Software name &amp; version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#homepage-and-description" class="md-nav__link">
    Homepage and description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toolchain" class="md-nav__link">
    Toolchain
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commonly-used-parameters" class="md-nav__link">
    Commonly used parameters
  </a>
  
    <nav class="md-nav" aria-label="Commonly used parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#easyblock" class="md-nav__link">
    Easyblock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sources" class="md-nav__link">
    Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    Dependencies
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-suffix" class="md-nav__link">
    Version suffix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#command-options" class="md-nav__link">
    Command options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sanity-check" class="md-nav__link">
    Sanity check
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-class" class="md-nav__link">
    Module class
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-parameters" class="md-nav__link">
    Custom parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generating-tweaked-easyconfigs" class="md-nav__link">
    Generating tweaked easyconfigs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#copying-easyconfigs" class="md-nav__link">
    Copying easyconfigs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-easyblocks" class="md-nav__link">
    Implementing easyblocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
    <nav class="md-nav" aria-label="Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#preparation" class="md-nav__link">
    Preparation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-easyconfig-parameters" class="md-nav__link">
    Mandatory easyconfig parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#easyblock_1" class="md-nav__link">
    Easyblock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cmake-build-dependency" class="md-nav__link">
    CMake build dependency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sources_1" class="md-nav__link">
    Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#required-configure-option" class="md-nav__link">
    Required configure option
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sanity-check_1" class="md-nav__link">
    Sanity check
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-easyconfig" class="md-nav__link">
    Complete easyconfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exercises" class="md-nav__link">
    Exercises
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/easybuilders/easybuild-tutorial/edit/master/docs/adding_support_software/README.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="adding-support-for-additional-software">Adding support for additional software<a class="headerlink" href="#adding-support-for-additional-software" title="Permanent link">&para;</a></h1>
<p>We already know how to install easyconfig files that are included with EasyBuild,
but what about installing software for which no easyconfig is available yet?</p>
<p>To do this we will need to <strong>create additional easyconfig files</strong>,
since every software installation performed by EasyBuild is done based on an easyconfig file.</p>
<p>In this part of the tutorial we will look at the guts of easyconfig files and even create some ourselves!</p>
<h2 id="easyconfigs-vs-easyblocks">Easyconfigs vs easyblocks<a class="headerlink" href="#easyconfigs-vs-easyblocks" title="Permanent link">&para;</a></h2>
<h2 id="writing-easyconfig-files">Writing easyconfig files<a class="headerlink" href="#writing-easyconfig-files" title="Permanent link">&para;</a></h2>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;example&#39;</span>
<span class="n">version</span> <span class="o">=</span> <span class="s1">&#39;1.2.3&#39;</span>

<span class="n">toolchain</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;foss&#39;</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;2019b&#39;</span><span class="p">}</span>
</code></pre></div>
</td></tr></table>

<div class="highlight"><pre><span></span><code>graph TD
    A[Hard] --&gt;|Text| B(Round)
    B --&gt; C{Decision}
    C --&gt;|One| D[Result 1]
    C --&gt;|Two| E[Result 2]
</code></pre></div>

<h3 id="mandatory-parameters">Mandatory parameters<a class="headerlink" href="#mandatory-parameters" title="Permanent link">&para;</a></h3>
<h4 id="software-name-version">Software name &amp; version<a class="headerlink" href="#software-name-version" title="Permanent link">&para;</a></h4>
<h4 id="homepage-and-description">Homepage and description<a class="headerlink" href="#homepage-and-description" title="Permanent link">&para;</a></h4>
<h4 id="toolchain">Toolchain<a class="headerlink" href="#toolchain" title="Permanent link">&para;</a></h4>
<h3 id="commonly-used-parameters">Commonly used parameters<a class="headerlink" href="#commonly-used-parameters" title="Permanent link">&para;</a></h3>
<h4 id="easyblock">Easyblock<a class="headerlink" href="#easyblock" title="Permanent link">&para;</a></h4>
<p>generic vs software-specific</p>
<p>common generic easyblocks</p>
<p><code>ConfigureMake</code>
<code>CMakeMake</code>
<code>PythonPackage</code>
<code>PythonBundle</code></p>
<p><a href="https://easybuild.readthedocs.io/en/latest/version-specific/generic_easyblocks.html">https://easybuild.readthedocs.io/en/latest/version-specific/generic_easyblocks.html</a></p>
<h4 id="sources">Sources<a class="headerlink" href="#sources" title="Permanent link">&para;</a></h4>
<h4 id="dependencies">Dependencies<a class="headerlink" href="#dependencies" title="Permanent link">&para;</a></h4>
<h4 id="version-suffix">Version suffix<a class="headerlink" href="#version-suffix" title="Permanent link">&para;</a></h4>
<h4 id="command-options">Command options<a class="headerlink" href="#command-options" title="Permanent link">&para;</a></h4>
<h4 id="sanity-check">Sanity check<a class="headerlink" href="#sanity-check" title="Permanent link">&para;</a></h4>
<h4 id="module-class">Module class<a class="headerlink" href="#module-class" title="Permanent link">&para;</a></h4>
<h3 id="custom-parameters">Custom parameters<a class="headerlink" href="#custom-parameters" title="Permanent link">&para;</a></h3>
<p><code>eb -a --easyblock PythonPackage</code></p>
<h2 id="generating-tweaked-easyconfigs">Generating tweaked easyconfigs<a class="headerlink" href="#generating-tweaked-easyconfigs" title="Permanent link">&para;</a></h2>
<p><code>--try-*</code></p>
<h2 id="copying-easyconfigs">Copying easyconfigs<a class="headerlink" href="#copying-easyconfigs" title="Permanent link">&para;</a></h2>
<p><code>--copy-ec</code></p>
<h2 id="implementing-easyblocks">Implementing easyblocks<a class="headerlink" href="#implementing-easyblocks" title="Permanent link">&para;</a></h2>
<p>(out of scope)</p>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<p>By means of example, we are going to puzzle together an easyconfig file to install the
example software package <code>eb-tutorial</code>.</p>
<p>The sources for <code>eb-tutorial</code> version 1.0.0 are available at:</p>
<div class="highlight"><pre><span></span><code>https://github.com/easybuilders/easybuild-tutorial/raw/master/docs/files/eb-tutorial-1.0.0.tar.gz
</code></pre></div>

<p>You can consult the unpacked sources at <a href="https://github.com/easybuilders/easybuild-tutorial/tree/master/docs/files/eb-tutorial-1.0.0">https://github.com/easybuilders/easybuild-tutorial/tree/master/docs/files/eb-tutorial-1.0.0</a>.</p>
<h3 id="preparation">Preparation<a class="headerlink" href="#preparation" title="Permanent link">&para;</a></h3>
<p>Make sure EasyBuild is properly configured before you start:</p>
<div class="highlight"><pre><span></span><code><span class="nb">export</span> <span class="nv">EASYBUILD_PREFIX</span><span class="o">=</span><span class="nv">$HOME</span>/easybuild
<span class="nb">export</span> <span class="nv">EASYBUILD_BUILDPATH</span><span class="o">=</span>/tmp/<span class="nv">$USER</span>
</code></pre></div>

<p>and that the installed software in <code>/easybuild</code> is available:</p>
<div class="highlight"><pre><span></span><code>module use /easybuild/modules/all
</code></pre></div>

<h3 id="mandatory-easyconfig-parameters">Mandatory easyconfig parameters<a class="headerlink" href="#mandatory-easyconfig-parameters" title="Permanent link">&para;</a></h3>
<p>Let's start by getting the mandatory easyconfig parameter defined in the easyconfig file:</p>
<div class="highlight"><pre><span></span><code><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;eb-tutorial&#39;</span>
<span class="n">version</span> <span class="o">=</span> <span class="s1">&#39;1.0.0&#39;</span>

<span class="n">homepage</span> <span class="o">=</span> <span class="s1">&#39;https://easybuilders.github.io/easybuild-tutorial&#39;</span>
<span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;EasyBuild tutorial example&quot;</span>

<span class="n">toolchain</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;GCC&#39;</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;9.3.0&#39;</span><span class="p">}</span>
</code></pre></div>

<p>We will use <code>GCC/9.3.0</code> as toolchain, since we know it is already installed in <code>/easybuild</code> in the prepared environment.</p>
<p>In addition, we'll also specify the <code>moduleclass</code>. This is not required, but it is usually set
to a reasonable value:</p>
<div class="highlight"><pre><span></span><code><span class="n">moduleclass</span> <span class="o">=</span> <span class="s1">&#39;tools&#39;</span>
</code></pre></div>

<p>The default value is '<code>base</code>', at least '<code>'tools</code>' has <em>some</em> meaning.</p>
<h3 id="easyblock_1">Easyblock<a class="headerlink" href="#easyblock_1" title="Permanent link">&para;</a></h3>
<p>Let us see what happens if we take this easyconfig file for a spin:</p>
<div class="highlight"><pre><span></span><code>$ eb eb-tutorial.eb 
<span class="o">==</span> temporary log file in <span class="k">case</span> of crash /tmp/eb-8_vxjfn7/easybuild-k3aaoan2.log
ERROR: Failed to process easyconfig /home/example/eb-tutorial.eb:
No software-specific easyblock <span class="s1">&#39;EB_eb_minus_tutorial&#39;</span> found <span class="k">for</span> eb-tutorial
</code></pre></div>

<p>That didn't get us very far...</p>
<p>The error shows that there is no software-specific easyblock available for <code>eb-tutorial</code>.
Does that mean we have to implement an easyblock?</p>
<p>In this simple case it doesn't since we can leverage one of the available generic easyblocks.
But, which one? Build instructions are usually shared in the <code>README</code> or documentation,
but here were are left to figure things out by ourselves...</p>
<p>When inspecting the <a href="https://github.com/easybuilders/easybuild-tutorial/tree/master/docs/files/eb-tutorial-1.0.0">unpacked sources</a> we see a <code>CMakeLists.txt</code> file.
That probably means the installation will involve running <code>cmake</code> to configure
the build, which likely will yield a <code>Makefile</code> so we can run <code>make</code> afterwards.</p>
<p>We briefly discussed a generic easyblock that does exactly this: <code>CMakeMake</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">easyblock</span> <span class="o">=</span> <span class="s1">&#39;CMakeMake&#39;</span>
</code></pre></div>

<p>The "<code>easyblock =</code>" line is usually at the top of the easyconfig file, but strictly speaking
the order of the parameter definitions doesn't matter (unless one is defined the terms of another one).</p>
<h3 id="cmake-build-dependency">CMake build dependency<a class="headerlink" href="#cmake-build-dependency" title="Permanent link">&para;</a></h3>
<p>Does that help at all?</p>
<div class="highlight"><pre><span></span><code>$ eb eb-tutorial.eb 
== temporary log file in case of crash /tmp/eb-yutbor1p/easybuild-4jc9v1u9.log
== found valid index for /easybuild/software/EasyBuild/4.2.1/easybuild/easyconfigs, so using it...
== processing EasyBuild easyconfig /home/example/eb-tutorial.eb
== building and installing eb-tutorial/1.0.0-GCC-9.3.0...
== fetching files...
== creating build dir, resetting environment...
== unpacking...
== patching...
== preparing...
== configuring...
== FAILED: Installation ended unsuccessfully (build directory: /tmp/easybuild/ebtutorial/1.0.0/GCC-9.3.0):
build failed (first 300 chars): cmd &quot; cmake -DCMAKE_INSTALL_PREFIX=/home/example/easybuild/software/eb-tutorial/1.0.0-GCC-9.3.0 -DCMAKE_BUILD_TYPE=Release -DCMAKE_C_COMPILER=&#39;gcc&#39; -DCMAKE_C_FLAGS=&#39;-O2 -ftree-vectorize -march=native -fno-math-errno&#39; -DCMAKE_CXX_COMPILER=&#39;g++&#39; -DCMAKE_CXX_FLAGS=&#39;-O2 -ftree-vectorize -march=native  (took 0 sec)
</code></pre></div>

<p>It did help: EasyBuild made an attempt to configure the build using the <code>cmake</code> command, but that failed almost
instantly. We need to dive into the log file to see the actual reason. By starting at the end of the log file and
scrolling up, you should be able to locate the following:</p>
<div class="highlight"><pre><span></span><code>/bin/bash: cmake: command not found
</code></pre></div>

<p>Ah, that explains it, <code>cmake</code> isn't even installed. Now what?</p>
<div class="highlight"><pre><span></span><code>$ module avail CMake

--------------------------- /easybuild/modules/all ----------------------------
   CMake/3.16.4-GCCcore-9.3.0
</code></pre></div>

<p>Since <code>CMake</code> is already installed, we can use it as a dependency for the installation.
It is only needed for building the software, not for running it, so it's only a <em>build</em> dependency:</p>
<div class="highlight"><pre><span></span><code><span class="n">builddependencies</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;CMake&#39;</span><span class="p">,</span> <span class="s1">&#39;3.16.4&#39;</span><span class="p">)]</span>
</code></pre></div>

<p>There is usually no need to specify toolchain for (build) dependencies, EasyBuild will automatically consider
subtoolchains compatible with the specified toolchain to locate module for the dependencies.</p>
<p>You can verify this via <code>eb -D</code>:</p>
<div class="highlight"><pre><span></span><code>$ eb eb-tutorial.eb -D
 ...
 * [x] /easybuild/software/EasyBuild/4.2.1/easybuild/easyconfigs/c/CMake/CMake-3.16.4-GCCcore-9.3.0.eb (module: CMake/3.16.4-GCCcore-9.3.0)
 * [x] /easybuild/software/EasyBuild/4.2.1/easybuild/easyconfigs/g/GCC/GCC-9.3.0.eb (module: GCC/9.3.0)
 * [ ] /home/example/eb-tutorial.eb (module: eb-tutorial/1.0.0-GCC-9.3.0)
</code></pre></div>

<h3 id="sources_1">Sources<a class="headerlink" href="#sources_1" title="Permanent link">&para;</a></h3>
<p>If you try again after adding <code>CMake</code> as a build dependency, you will see the installation fail again in the
configuration step. Inspecting the log file reveals:</p>
<div class="highlight"><pre><span></span><code>CMake Error: The source directory &quot;/tmp/example/ebtutorial/1.0.0/GCC-9.3.0&quot; does not appear to contain CMakeLists.txt.
</code></pre></div>

<p>Wait, but there <em>is</em> a <code>CMakeLists.txt</code>, we can see it in the <a href="https://github.com/easybuilders/easybuild-tutorial/tree/master/docs/files/eb-tutorial-1.0.0">unpacked sources</a>!</p>
<p>Let's inspect the build directory:</p>
<div class="highlight"><pre><span></span><code>$ ls /tmp/$USER/ebtutorial/1.0.0/GCC-9.3.0
easybuild_obj
$ ls /tmp/$USER/ebtutorial/1.0.0/GCC-9.3.0/easybuild_obj
$
</code></pre></div>

<p>There's nothing there at all! And that's not strange because we didn't actually
specify any sources in our easyconfig file.</p>
<p>The <code>sources</code> easyconfig parameter is commonly defined but it is <em>not</em> mandatory,
because some easyconfig files only specify bundles of software packages and hence only
serve to generate a module file.</p>
<p>So we need to specify <code>sources</code>. We might as well also define <code>source_urls</code>, so EasyBuild
can download the sources for us.</p>
<div class="highlight"><pre><span></span><code><span class="n">source_urls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;https://github.com/easybuilders/easybuild-tutorial/raw/master/docs/files/&#39;</span><span class="p">]</span>
<span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eb-tutorial-1.0.0.tar.gz&#39;</span><span class="p">]</span>
</code></pre></div>

<p>This will work, but we can do better by not hardcoding the software version (<code>1.0.0</code>) in <code>sources</code>,
and use a template value '<code>%(version)s</code>' instead:</p>
<div class="highlight"><pre><span></span><code><span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eb-tutorial-</span><span class="si">%(version)s</span><span class="s1">.tar.gz&#39;</span><span class="p">]</span>
</code></pre></div>

<p>That way, we only have the software version specified once in the easyconfig file (via the <code>version</code>
easyconfig parameter). That will come in useful later (see <a href="#exercises">Exercise 7.1</a>)...</p>
<p>We can even use the <code>SOURCE_TAR_GZ</code> template constant in this case, since the name of source file adhers
to the standard <code>name-version.tar.gz</code> pattern:</p>
<div class="highlight"><pre><span></span><code><span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="n">SOURCE_TAR_GZ</span><span class="p">]</span>
</code></pre></div>

<p>See the output of "<code>eb --avail-easyconfig-template</code>" for a list of known templates.</p>
<h3 id="required-configure-option">Required configure option<a class="headerlink" href="#required-configure-option" title="Permanent link">&para;</a></h3>
<p>With <code>sources</code> defined, we can try and again. And yet again we see the configure step fail.
Is this a ruse to make you hate CMake with a passion? Maybe...</p>
<p>Here's what we find in the log file:</p>
<div class="highlight"><pre><span></span><code>CMake Error at CMakeLists.txt:7 (message):
  EBTUTORIAL_MSG is not set!
</code></pre></div>

<p>Apparently the <code>eb-tutorial</code> software has a required configure option. It's almost as if that
was done on purpose, how silly!</p>
<p>Options to the configure command can be specified by the <code>configopts</code> easyconfig parameter.
To define the value of a CMake option, we need to use <code>-DNAME_OF_OPTION</code>, so:</p>
<div class="highlight"><pre><span></span><code><span class="n">configopts</span> <span class="o">=</span> <span class="s1">&#39;-DEBTUTORIAL_MSG=&quot;Hello from the online EasyBuild tutorial!&quot; &#39;</span>
</code></pre></div>

<p>We need to be a little bit careful with quotes here. If we use outer single quotes,
we have to use double quotes to specify the actual value for the <code>EBTUTORIAL_MSG</code> configure option.</p>
<p>Here we can also use outer double quotes and inner single quotes, but that's not always the case!
Sometimes we want environment variables to get expanded when the command is run, so then we should <em>not</em> wrap
the actual value in single quotes (so we should use outer single quotes, like we did here).</p>
<p>Think about how you would use a message that includes your username via <code>$USER</code> for example...</p>
<h3 id="sanity-check_1">Sanity check<a class="headerlink" href="#sanity-check_1" title="Permanent link">&para;</a></h3>
<p>Hopefully that brings us closer to getting the installation to work...</p>
<div class="highlight"><pre><span></span><code>$ eb eb-tutorial.eb
....
== sanity checking...
== FAILED: Installation ended unsuccessfully (build directory: /tmp/easybuild/ebtutorial/1.0.0/GCC-9.3.0): build failed (first 300 chars):
Sanity check failed: no (non-empty) directory found at &#39;lib&#39; or &#39;lib64&#39; in /home/easybuild/easybuild/software/eb-tutorial/1.0.0-GCC-9.3.0 (took 2 sec)
</code></pre></div>

<p>It got all the way to the sanity check step, yaay!</p>
<p>But the sanity check failed because no '<code>lib</code>' or <code>'lib64'</code> directory was found.
Indeed:</p>
<div class="highlight"><pre><span></span><code>$ ls $HOME/easybuild/software/eb-tutorial/1.0.0-GCC-9.3.0
bin
$ ls $HOME/easybuild/software/eb-tutorial/1.0.0-GCC-9.3.0/bin
eb-tutorial
</code></pre></div>

<p>There is only a binary named <code>eb-tutorial</code> in the <code>bin</code> subdirectory. So we will need to customize
the sanity check:</p>
<div class="highlight"><pre><span></span><code><span class="n">sanity_check_paths</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bin/eb-tutorial&#39;</span><span class="p">],</span>
    <span class="s1">&#39;dirs&#39;</span><span class="p">:</span> <span class="p">[],</span>
<span class="p">}</span>
</code></pre></div>

<p>Since we want to obtain a <em>working</em> installation, we might as well try to run this <code>eb-tutorial</code> command as well:</p>
<div class="highlight"><pre><span></span><code><span class="n">sanity_check_commands</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eb-tutorial&#39;</span><span class="p">]</span>
</code></pre></div>

<p>Let us now retry, but use <code>--module-only</code> rather than redoing the whole installation.
And by enabling trace module via <code>--trace</code> we can get some more information too:</p>
<div class="highlight"><pre><span></span><code>eb eb-tutorial.eb --module-only --trace
...
<span class="o">==</span> sanity checking...
  &gt;&gt; file <span class="s1">&#39;bin/eb-tutorial&#39;</span> found: OK
  &gt;&gt; running <span class="nb">command</span> <span class="s1">&#39;eb-tutorial&#39;</span> ...
  &gt;&gt; result <span class="k">for</span> <span class="nb">command</span> <span class="s1">&#39;eb-tutorial&#39;</span>: OK
...
<span class="o">==</span> COMPLETED: Installation ended successfully <span class="o">(</span>took <span class="m">4</span> sec<span class="o">)</span>
</code></pre></div>

<p>Yes, great success!</p>
<p>To convince yourself that the installation works as intended, try to load the <code>eb-tutorial</code> module and
run the <code>eb-tutorial</code> command yourself:</p>
<div class="highlight"><pre><span></span><code>$ module load eb-tutorial
$ eb-tutorial
Hello from the online EasyBuild tutorial!
</code></pre></div>

<h3 id="complete-easyconfig">Complete easyconfig<a class="headerlink" href="#complete-easyconfig" title="Permanent link">&para;</a></h3>
<p>Here is the complete easyconfig we puzzled together for this example:</p>
<div class="highlight"><pre><span></span><code><span class="n">easyblock</span> <span class="o">=</span> <span class="s1">&#39;CMakeMake&#39;</span>

<span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;eb-tutorial&#39;</span>
<span class="n">version</span> <span class="o">=</span> <span class="s1">&#39;1.0.0&#39;</span>

<span class="n">homepage</span> <span class="o">=</span> <span class="s1">&#39;https://easybuilders.github.io/easybuild-tutorial&#39;</span>
<span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;EasyBuild tutorial example&quot;</span>

<span class="n">source_urls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;https://github.com/easybuilders/easybuild-tutorial/raw/master/docs/files/&#39;</span><span class="p">]</span>
<span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="n">SOURCE_TAR_GZ</span><span class="p">]</span>
<span class="n">checksums</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;87643c9a950d02471fc283b31e8a088da7d5d49bc9e1bebd5c83b52c2e23b4d8&#39;</span><span class="p">]</span>

<span class="n">toolchain</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;GCC&#39;</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;9.3.0&#39;</span><span class="p">}</span>

<span class="n">builddependencies</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;CMake&#39;</span><span class="p">,</span> <span class="s1">&#39;3.16.4&#39;</span><span class="p">)]</span>

<span class="n">configopts</span> <span class="o">=</span> <span class="s1">&#39;-DEBTUTORIAL_MSG=&quot;Hello from the online EasyBuild tutorial!&quot; &#39;</span>

<span class="n">sanity_check_paths</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bin/eb-tutorial&#39;</span><span class="p">],</span>
    <span class="s1">&#39;dirs&#39;</span><span class="p">:</span> <span class="p">[],</span>
<span class="p">}</span>

<span class="n">sanity_check_commands</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;eb-tutorial&#39;</span><span class="p">]</span>

<span class="n">moduleclass</span> <span class="o">=</span> <span class="s1">&#39;tools&#39;</span>
</code></pre></div>

<hr />
<h2 id="exercises">Exercises<a class="headerlink" href="#exercises" title="Permanent link">&para;</a></h2>
<p><strong><em>Exercise 7.1</em></strong><em> - Installing eb-tutorial version 1.1.0</em></p>
<p>Install version 1.1.0 of the <code>eb-tutorial</code> example software,
which is a trivial version bump compared to version 1.0.0.</p>
<p>The sources are available via:</p>
<div class="highlight"><pre><span></span><code>https://github.com/easybuilders/easybuild-tutorial/raw/master/docs/files/py-eb-tutorial-1.1.0.tar.gz
</code></pre></div>

<p>You can leverage the <code>eb-tutorial</code> easyconfig file we have composed in the example above,
<strong>but you should not make any manual changes to it!</strong></p>
<details class="success"><summary>(click to show solution)</summary><p>You can use the <code>--try-software-version</code> option for this:
<div class="highlight"><pre><span></span><code>$ eb eb-tutorial.eb --try-software-version <span class="m">1</span>.1.0
...
<span class="o">==</span> building and installing eb-tutorial/1.1.0-GCC-9.3.0...
...
<span class="o">==</span> COMPLETED: Installation ended successfully <span class="o">(</span>took <span class="m">4</span> sec<span class="o">)</span>
</code></pre></div>
To test:
<div class="highlight"><pre><span></span><code>$ module use $HOME/easybuild/modules/all
$ module load eb-tutorial/1.1.0-GCC-9.3.0
$ eb-tutorial
I have a message for you:
Hello from the online EasyBuild tutorial!
</code></pre></div>
(<code>eb-tutorial</code> version 1.0.0 doesn't print "<code>I have a message for you:</code>")</p>
</details>
<hr />
<p><strong><em>Exercise 7.2</em></strong><em> - Installing py-eb-tutorial 1.0.0</em></p>
<p>Try composing an easyconfig file for the <code>py-eb-tutorial</code> example software, which is a tiny Python package.
The source tarball can be downloaded from this link: <a href="https://github.com/easybuilders/easybuild-tutorial/raw/master/docs/files/py-eb-tutorial-1.0.0.tar.gz">py-eb-tutorial-1.0.0.tar.gz</a>.</p>
<p>A couple of tips:</p>
<ul>
<li>
<p>There is a generic easyblock available for installing Python packages, which will come in useful here.</p>
</li>
<li>
<p>By default EasyBuild performs an <code>import</code> check when install Python packages, using a Python module name that is derived from the software name by default, which will be incorrect in this case. You can specify the correct name to use in the import check by specifying it via the <code>options</code>
easyconfig parameter in your easyconfig file:
  <div class="highlight"><pre><span></span><code><span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;modulename&#39;</span><span class="p">:</span> <span class="s1">&#39;example&#39;</span><span class="p">}</span>
</code></pre></div>
  (you will need to change '<code>example</code>' here, of course)</p>
</li>
<li>
<p>Leverage the software that is already pre-installed in <code>/easybuild</code> in the prepared environment.
  Remember that some already installed modules may be a <em>bundle</em> of a couple of other software packages.</p>
</li>
</ul>
<p>Please also take this into account:</p>
<ul>
<li>
<p>Unfortunately this software doesn't come with documentation. That is done to make it an example that
  is representative for software that you may run into in the wild (it's <em>not</em> because
  we were lazy when preparing the exercises, really!).
  You can inspect the sources of this software <a href="https://github.com/easybuilders/easybuild-tutorial/tree/master/docs/files/py-eb-tutorial-1.0.0">here</a>. Definitely take a look at the <code>setup.py</code> file, it includes some clues
  about the requirements to get this software installed.</p>
</li>
<li>
<p>Make sure the installation actually <em>works</em>, by checking that the <code>py-eb-tutorial</code> command runs correctly.
  Maybe you will need to make sure other required software is available as well, for it to work correctly...</p>
</li>
</ul>
<details class="success"><summary>(click to show solution)</summary><p>Here is a complete working easyconfig file for <code>py-eb-tutorial</code>:
<div class="highlight"><pre><span></span><code><span class="n">easyblock</span> <span class="o">=</span> <span class="s1">&#39;PythonPackage&#39;</span>

<span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;py-eb-tutorial&#39;</span>
<span class="n">version</span> <span class="o">=</span> <span class="s1">&#39;1.0.0&#39;</span>
<span class="n">versionsuffix</span> <span class="o">=</span> <span class="s1">&#39;-Python-</span><span class="si">%(pyver)s</span><span class="s1">&#39;</span>

<span class="n">homepage</span> <span class="o">=</span> <span class="s1">&#39;https://easybuilders.github.io/easybuild-tutorial&#39;</span>
<span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;EasyBuild tutorial Python example&quot;</span>

<span class="n">source_urls</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;https://github.com/easybuilders/easybuild-tutorial/raw/master/docs/files/&#39;</span><span class="p">]</span>
<span class="n">sources</span> <span class="o">=</span> <span class="p">[</span><span class="n">SOURCE_TAR_GZ</span><span class="p">]</span>
<span class="n">checksums</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fcf73a9efc65527a210b993e8889d41ebf05977eef1f6a65ebac3188152cd496&#39;</span><span class="p">]</span>

<span class="n">toolchain</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;foss&#39;</span><span class="p">,</span> <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;2020a&#39;</span><span class="p">}</span>

<span class="n">dependencies</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;Python&#39;</span><span class="p">,</span> <span class="s1">&#39;3.8.2&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;SciPy-bundle&#39;</span><span class="p">,</span> <span class="s1">&#39;2020.03&#39;</span><span class="p">,</span> <span class="n">versionsuffix</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;eb-tutorial&#39;</span><span class="p">,</span> <span class="s1">&#39;1.0.0&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="n">use_pip</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;modulename&#39;</span><span class="p">:</span> <span class="s1">&#39;eb_tutorial&#39;</span><span class="p">}</span>

<span class="n">sanity_check_paths</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;files&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;bin/py-eb-tutorial&#39;</span><span class="p">],</span>
    <span class="s1">&#39;dirs&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;lib/python</span><span class="si">%(pyshortver)s</span><span class="s1">/site-packages&#39;</span><span class="p">],</span>
<span class="p">}</span>

<span class="n">sanity_check_commands</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;py-eb-tutorial&quot;</span><span class="p">]</span>

<span class="n">moduleclass</span> <span class="o">=</span> <span class="s1">&#39;tools&#39;</span>
</code></pre></div></p>
<p>Some remarks:</p>
<ul>
<li>
<p>We used the <code>PythonPackage</code> generic easyblock. There is also a <code>PythonBundle</code> easyblock for installing
  bundles of Python packages, which is used for <code>SciPy-bundle</code> for example. But we don't need that here,
  since we are only dealing with a single Python package.</p>
</li>
<li>
<p>The <code>versionsuffix</code> is not strictly needed, but it's common to tag Python packages with the Python version
  for which they were installed. Even though Python 2 is officially dead and buried, some scientific software
  still requires it, and mixing modules where some use Python 2 and other use Python 3 doesn't work well. The
  versionsuffix is helpful to inform the user that a particular Python version is required by the installation.</p>
</li>
<li>
<p>The SHA256 checksum for the source tarball was added automatically via <code>eb py-eb-tutorial.eb --inject-checksums</code>.</p>
</li>
<li>
<p><code>py-eb-tutorial</code> only wants to be installed with <code>pip install</code>, so we had to set <code>use_pip = True</code>.
  You can consult the custom easyconfig parameters supported by the <code>PythonPackage</code> easyblock via
  "<code>eb -a -e PythonPackage</code>", see the <code>EASYBLOCK-SPECIFIC</code> part of the output.</p>
</li>
<li>
<p>By default EasyBuild will try to import <code>py_eb_tutorial</code>, while the actual name of the Python package
  provided by <code>py-eb-tutorial</code> is just <code>eb_tutorial</code>. We fixed this by specifying the correct Python module name to
  use via <code>options</code>.</p>
</li>
<li>
<p>Strictly speaking we don't need to specify a custom <code>sanity_check_paths</code>, since the default used
  by Python package is already pretty decent (it will check for a non-empty <code>lib/python3.8/site-packages</code>
  directory in the installation). We also want to make sure the <code>py-eb-tutorial</code> command is available in
  the <code>bin</code> subdirectory however. Hardcoding to <code>python3.8</code> can be avoided using the <code>%(pyshortver)s</code>
  template value.</p>
</li>
<li>
<p>A good way to check whether the <code>py-eb-tutorial</code> command works correctly is by running it as a sanity check
  command. If the <code>eb-tutorial</code> dependency is not included as a depedency the sanity check will fail,
  since the <code>py-eb-tutorial</code> command basically just runs the <code>eb-tutorial</code> command.</p>
</li>
</ul>
</details>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: June 18, 2020
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../hmns/" title="Hierarchical module naming schemes" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Hierarchical module naming schemes
              </div>
            </div>
          </a>
        
        
          <a href="../jsc/" title="EasyBuild at Jülich Supercomputing Centre" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                EasyBuild at Jülich Supercomputing Centre
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://github.com/easybuilders" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 16"><path fill-rule="evenodd" d="M18.53 12.03h-.02c.009 0 .015.01.024.011h.006l-.01-.01zm.004.011c-.093.001-.327.05-.574.05-.78 0-1.05-.36-1.05-.83V8.13h1.59c.09 0 .16-.08.16-.19v-1.7c0-.09-.08-.17-.16-.17h-1.59V3.96c0-.08-.05-.13-.14-.13h-2.16c-.09 0-.14.05-.14.13v2.17s-1.09.27-1.16.28c-.08.02-.13.09-.13.17v1.36c0 .11.08.19.17.19h1.11v3.28c0 2.44 1.7 2.69 2.86 2.69.53 0 1.17-.17 1.27-.22.06-.02.09-.09.09-.16v-1.5a.177.177 0 00-.146-.18zM42.23 9.84c0-1.81-.73-2.05-1.5-1.97-.6.04-1.08.34-1.08.34v3.52s.49.34 1.22.36c1.03.03 1.36-.34 1.36-2.25zm2.43-.16c0 3.43-1.11 4.41-3.05 4.41-1.64 0-2.52-.83-2.52-.83s-.04.46-.09.52c-.03.06-.08.08-.14.08h-1.48c-.1 0-.19-.08-.19-.17l.02-11.11c0-.09.08-.17.17-.17h2.13c.09 0 .17.08.17.17v3.77s.82-.53 2.02-.53l-.01-.02c1.2 0 2.97.45 2.97 3.88zm-8.72-3.61h-2.1c-.11 0-.17.08-.17.19v5.44s-.55.39-1.3.39-.97-.34-.97-1.09V6.25c0-.09-.08-.17-.17-.17h-2.14c-.09 0-.17.08-.17.17v5.11c0 2.2 1.23 2.75 2.92 2.75 1.39 0 2.52-.77 2.52-.77s.05.39.08.45c.02.05.09.09.16.09h1.34c.11 0 .17-.08.17-.17l.02-7.47c0-.09-.08-.17-.19-.17zm-23.7-.01h-2.13c-.09 0-.17.09-.17.2v7.34c0 .2.13.27.3.27h1.92c.2 0 .25-.09.25-.27V6.23c0-.09-.08-.17-.17-.17zm-1.05-3.38c-.77 0-1.38.61-1.38 1.38 0 .77.61 1.38 1.38 1.38.75 0 1.36-.61 1.36-1.38 0-.77-.61-1.38-1.36-1.38zm16.49-.25h-2.11c-.09 0-.17.08-.17.17v4.09h-3.31V2.6c0-.09-.08-.17-.17-.17h-2.13c-.09 0-.17.08-.17.17v11.11c0 .09.09.17.17.17h2.13c.09 0 .17-.08.17-.17V8.96h3.31l-.02 4.75c0 .09.08.17.17.17h2.13c.09 0 .17-.08.17-.17V2.6c0-.09-.08-.17-.17-.17zM8.81 7.35v5.74c0 .04-.01.11-.06.13 0 0-1.25.89-3.31.89-2.49 0-5.44-.78-5.44-5.92S2.58 1.99 5.1 2c2.18 0 3.06.49 3.2.58.04.05.06.09.06.14L7.94 4.5c0 .09-.09.2-.2.17-.36-.11-.9-.33-2.17-.33-1.47 0-3.05.42-3.05 3.73s1.5 3.7 2.58 3.7c.92 0 1.25-.11 1.25-.11v-2.3H4.88c-.11 0-.19-.08-.19-.17V7.35c0-.09.08-.17.19-.17h3.74c.11 0 .19.08.19.17z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/easy_build" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.youtube.com/c/easybuilders" target="_blank" rel="noopener" title="www.youtube.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://easybuild.readthedocs.io" target="_blank" rel="noopener" title="easybuild.readthedocs.io" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../assets/javascripts/bundle.a14cc5fd.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: ["instant"],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.7a2ea5ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>